<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="region">
	<select id="searchRegion" parameterType="String" resultType="map">
		SELECT reg_si||' '||reg_gu||' '||reg_dong as reg_name, reg_code
		FROM region
		WHERE reg_si||' '||reg_gu||' '||reg_dong like '%'||#{reg}||'%'
	</select>
	
	<!-- 지역구로 정보 가져오기 -->
	<select id="getRegionVo" resultType="regionVo" parameterType="int">
		select * from REGION where REG_GUCODE = #{REG_GUCODE}
	</select>

	<select id="getReg_gu" resultType="regionVo">
		SELECT distinct reg_gu, REG_GUCODE
		FROM REGION
	</select>
	
	<update id="updateRegionCnt" parameterType="long">
		UPDATE region
		SET reg_cnt = reg_cnt+1
		WHERE reg_code=#{reg_code}
	</update>
	
	<select id="getRegion" resultType="regionVo" parameterType="long">
		SELECT *
		FROM region
		WHERE reg_code=#{reg_code}
	</select>
</mapper>
